/* esm.sh - esbuild bundle(event-target-shim@5.0.1) node production */
var U=Object.create;var E=Object.defineProperty;var W=Object.getOwnPropertyDescriptor;var R=Object.getOwnPropertyNames;var G=Object.getPrototypeOf,F=Object.prototype.hasOwnProperty;var H=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),V=(e,t)=>{for(var n in t)E(e,n,{get:t[n],enumerable:!0})},w=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of R(t))!F.call(e,o)&&o!==n&&E(e,o,{get:()=>t[o],enumerable:!(r=W(t,o))||r.enumerable});return e},f=(e,t,n)=>(w(e,t,"default"),n&&w(n,t,"default")),O=(e,t,n)=>(n=e!=null?U(G(e)):{},w(t||!e||!e.__esModule?E(n,"default",{value:e,enumerable:!0}):n,e));var P=H((h,y)=>{"use strict";Object.defineProperty(h,"__esModule",{value:!0});var L=new WeakMap,T=new WeakMap;function i(e){let t=L.get(e);return console.assert(t!=null,"'this' is expected an Event object, but got",e),t}function j(e){if(e.passiveListener!=null){typeof console<"u"&&typeof console.error=="function"&&console.error("Unable to preventDefault inside passive event listener invocation.",e.passiveListener);return}e.event.cancelable&&(e.canceled=!0,typeof e.event.preventDefault=="function"&&e.event.preventDefault())}function d(e,t){L.set(this,{eventTarget:e,event:t,eventPhase:2,currentTarget:e,canceled:!1,stopped:!1,immediateStopped:!1,passiveListener:null,timeStamp:t.timeStamp||Date.now()}),Object.defineProperty(this,"isTrusted",{value:!1,enumerable:!0});let n=Object.keys(t);for(let r=0;r<n.length;++r){let o=n[r];o in this||Object.defineProperty(this,o,S(o))}}d.prototype={get type(){return i(this).event.type},get target(){return i(this).eventTarget},get currentTarget(){return i(this).currentTarget},composedPath(){let e=i(this).currentTarget;return e==null?[]:[e]},get NONE(){return 0},get CAPTURING_PHASE(){return 1},get AT_TARGET(){return 2},get BUBBLING_PHASE(){return 3},get eventPhase(){return i(this).eventPhase},stopPropagation(){let e=i(this);e.stopped=!0,typeof e.event.stopPropagation=="function"&&e.event.stopPropagation()},stopImmediatePropagation(){let e=i(this);e.stopped=!0,e.immediateStopped=!0,typeof e.event.stopImmediatePropagation=="function"&&e.event.stopImmediatePropagation()},get bubbles(){return!!i(this).event.bubbles},get cancelable(){return!!i(this).event.cancelable},preventDefault(){j(i(this))},get defaultPrevented(){return i(this).canceled},get composed(){return!!i(this).event.composed},get timeStamp(){return i(this).timeStamp},get srcElement(){return i(this).eventTarget},get cancelBubble(){return i(this).stopped},set cancelBubble(e){if(!e)return;let t=i(this);t.stopped=!0,typeof t.event.cancelBubble=="boolean"&&(t.event.cancelBubble=!0)},get returnValue(){return!i(this).canceled},set returnValue(e){e||j(i(this))},initEvent(){}};Object.defineProperty(d.prototype,"constructor",{value:d,configurable:!0,writable:!0});typeof window<"u"&&typeof window.Event<"u"&&(Object.setPrototypeOf(d.prototype,window.Event.prototype),T.set(window.Event.prototype,d));function S(e){return{get(){return i(this).event[e]},set(t){i(this).event[e]=t},configurable:!0,enumerable:!0}}function $(e){return{value(){let t=i(this).event;return t[e].apply(t,arguments)},configurable:!0,enumerable:!0}}function q(e,t){let n=Object.keys(t);if(n.length===0)return e;function r(o,s){e.call(this,o,s)}r.prototype=Object.create(e.prototype,{constructor:{value:r,configurable:!0,writable:!0}});for(let o=0;o<n.length;++o){let s=n[o];if(!(s in e.prototype)){let l=typeof Object.getOwnPropertyDescriptor(t,s).value=="function";Object.defineProperty(r.prototype,s,l?$(s):S(s))}}return r}function k(e){if(e==null||e===Object.prototype)return d;let t=T.get(e);return t==null&&(t=q(k(Object.getPrototypeOf(e)),e),T.set(e,t)),t}function z(e,t){let n=k(Object.getPrototypeOf(t));return new n(e,t)}function J(e){return i(e).immediateStopped}function K(e,t){i(e).eventPhase=t}function Q(e,t){i(e).currentTarget=t}function B(e,t){i(e).passiveListener=t}var C=new WeakMap,A=1,_=2,v=3;function b(e){return e!==null&&typeof e=="object"}function g(e){let t=C.get(e);if(t==null)throw new TypeError("'this' is expected an EventTarget object, but got another value.");return t}function X(e){return{get(){let n=g(this).get(e);for(;n!=null;){if(n.listenerType===v)return n.listener;n=n.next}return null},set(t){typeof t!="function"&&!b(t)&&(t=null);let n=g(this),r=null,o=n.get(e);for(;o!=null;)o.listenerType===v?r!==null?r.next=o.next:o.next!==null?n.set(e,o.next):n.delete(e):r=o,o=o.next;if(t!==null){let s={listener:t,listenerType:v,passive:!1,once:!1,next:null};r===null?n.set(e,s):r.next=s}},configurable:!0,enumerable:!0}}function m(e,t){Object.defineProperty(e,`on${t}`,X(t))}function D(e){function t(){u.call(this)}t.prototype=Object.create(u.prototype,{constructor:{value:t,configurable:!0,writable:!0}});for(let n=0;n<e.length;++n)m(t.prototype,e[n]);return t}function u(){if(this instanceof u){C.set(this,new Map);return}if(arguments.length===1&&Array.isArray(arguments[0]))return D(arguments[0]);if(arguments.length>0){let e=new Array(arguments.length);for(let t=0;t<arguments.length;++t)e[t]=arguments[t];return D(e)}throw new TypeError("Cannot call a class as a function")}u.prototype={addEventListener(e,t,n){if(t==null)return;if(typeof t!="function"&&!b(t))throw new TypeError("'listener' should be a function or an object.");let r=g(this),o=b(n),c=(o?!!n.capture:!!n)?A:_,l={listener:t,listenerType:c,passive:o&&!!n.passive,once:o&&!!n.once,next:null},p=r.get(e);if(p===void 0){r.set(e,l);return}let x=null;for(;p!=null;){if(p.listener===t&&p.listenerType===c)return;x=p,p=p.next}x.next=l},removeEventListener(e,t,n){if(t==null)return;let r=g(this),s=(b(n)?!!n.capture:!!n)?A:_,c=null,l=r.get(e);for(;l!=null;){if(l.listener===t&&l.listenerType===s){c!==null?c.next=l.next:l.next!==null?r.set(e,l.next):r.delete(e);return}c=l,l=l.next}},dispatchEvent(e){if(e==null||typeof e.type!="string")throw new TypeError('"event.type" should be a string.');let t=g(this),n=e.type,r=t.get(n);if(r==null)return!0;let o=z(this,e),s=null;for(;r!=null;){if(r.once?s!==null?s.next=r.next:r.next!==null?t.set(n,r.next):t.delete(n):s=r,B(o,r.passive?r.listener:null),typeof r.listener=="function")try{r.listener.call(this,o)}catch(c){typeof console<"u"&&typeof console.error=="function"&&console.error(c)}else r.listenerType!==v&&typeof r.listener.handleEvent=="function"&&r.listener.handleEvent(o);if(J(o))break;r=r.next}return B(o,null),K(o,0),Q(o,null),!o.defaultPrevented}};Object.defineProperty(u.prototype,"constructor",{value:u,configurable:!0,writable:!0});typeof window<"u"&&typeof window.EventTarget<"u"&&Object.setPrototypeOf(u.prototype,window.EventTarget.prototype);h.defineEventAttribute=m;h.EventTarget=u;h.default=u;y.exports=u;y.exports.EventTarget=y.exports.default=u;y.exports.defineEventAttribute=m});var a={};V(a,{EventTarget:()=>Z,default:()=>te,defineEventAttribute:()=>N,prototype:()=>Y});var M=O(P());f(a,O(P()));var{prototype:Y,EventTarget:Z,defineEventAttribute:N}=M,{default:I,...ee}=M,te=I!==void 0?I:ee;export{Z as EventTarget,te as default,N as defineEventAttribute,Y as prototype};
//# sourceMappingURL=event-target-shim.mjs.map