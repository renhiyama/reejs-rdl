import{Bots as e,Servers as o}from"./c2d913.js";export default{name:"info",description:"Get info from RDL",options:[{name:"bot",description:"Get info about bot",type:1,options:[{name:"id",description:"The bot's ID",type:6,required:!0}]},{name:"user",description:"Get info about user",type:1,options:[{name:"id",description:"The user's ID (default: you)",type:6}]}]};export async function run(o,n){let t=n.data.options[0].name,i=function(e){let o,n=e[0],t=1;for(;t<e.length;){const i=e[t],s=e[t+1];if(t+=2,("optionalAccess"===i||"optionalCall"===i)&&null==n)return;"access"===i||"optionalAccess"===i?(o=n,n=s(n)):"call"!==i&&"optionalCall"!==i||(n=s(((...e)=>n.call(o,...e))),o=void 0)}return n}([n,"access",e=>e.data,"access",e=>e.options,"access",e=>e[0],"optionalAccess",e=>e.options,"access",e=>e[0],"optionalAccess",e=>e.value])||n.member.user.id;if("bot"==t){let n=await e.findOne({id:i});return console.log(n),n?o.json({type:4,data:{embeds:[{title:n.tag,description:n.description,color:5793266,thumbnail:{url:n.avatarURL},fields:[{name:"Prefix",value:n.prefix,inline:!0},{name:"Servers",value:n.servers,inline:!0},{name:"Owner",value:`<@!${n.owner}>`,inline:!0},{name:"Library",value:n.library||"<Not Disclosed>",inline:!0},{name:"Invite",value:`[Click Here for No-Perm Invite](https://discord.com/oauth2/authorize?client_id=${n.id}&scope=bot&permissions=0)\n[Click Here for Original Invite](${n.invite})`,inline:!1},{name:"Support Server",value:n.support||"<Not Disclosed>",inline:!0},{name:"Vote",value:`[Click Here to Vote - ${n.opted_coins?"Uses R$":"Based on Cooldown"}](https://discord.rovelstars.com/bots/${n.id}/vote)`,inline:!1}]}]}}):o.json({type:4,data:{content:"Bot not found",flags:64}})}if("user"==t){console.log(Users);let n=await Users.findOne({id:i}),t=await e.find({owners:{$in:[i]}}),s=t.length?t.map((e=>e.tag)).join(", "):"No Bots";return console.log(n),console.log(t),n?o.json({type:4,data:{embeds:[{title:n.tag,description:n.bio,color:5793266,thumbnail:{url:n.avatarURL},fields:[{name:"Bots",value:s,inline:!0},{name:"Balance",value:`R$ ${n.coins}`,inline:!0},{name:"Recently Voted Bots",value:n.votes.length?n.votes.map((e=>`<@!${e}>`)).join(", "):"No Bots Voted Recently",inline:!0}]}]}}):o.json({type:4,data:{content:"User not found",flags:64}})}}