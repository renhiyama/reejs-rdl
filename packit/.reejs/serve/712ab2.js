import e from"./c2d913.js";export default{name:"info",description:"Get info from RDL",options:[{name:"bot",description:"Get info about bot",type:1,options:[{name:"id",description:"The bot's ID",type:6,required:!0}]},{name:"user",description:"Get info about user",type:1,options:[{name:"id",description:"The user's ID (default: you)",type:6}]}]};export async function run(t,o){let i=o.data.options[0].name,n=Object.keys(o.data.resolved.members)[0]||o.member.user.id;if("bot"==i){let o=(await e.query("SELECT * FROM bots WHERE botID = $id",{id:n}))[0].result[0];return o?t.json({type:4,data:{embeds:[{title:o.tag,color:5793266,url:`https://dscrdly.com/b/${o.slug}`,thumbnail:{url:o.avatarURL},fields:[{name:"Prefix",value:o.prefix||"<Not Disclosed>",inline:!0},{name:"Servers",value:o.servers||"<Not Disclosed>",inline:!0},{name:"Owner",value:o.owners.map((e=>`<@!${e}>`)).join(", "),inline:!0},{name:"Library",value:o.lib||"<Not Disclosed>",inline:!0},{name:"Invite",value:`[Click Here for No-Perm Invite](https://discord.com/oauth2/authorize?client_id=${o.id}&scope=bot&permissions=0)\n[Click Here for Original Invite](${o.invite})`,inline:!0},{name:"Support Server",value:o.support?`https://discord.gg/${o.support}`:"<Not Disclosed>",inline:!0},{name:"Vote",value:`[Click Here to Vote - ${o.opted_coins?"Uses R$":"Based on Cooldown"}](https://discord.rovelstars.com/bots/${o.id}/vote)`,inline:!0}]}]}}):t.json({type:4,data:{content:"Bot not found"}})}if("user"==i){o.data.options[0].options[0].name;let i=Object.keys(o.data.resolved.members)[0]||o.member.user.id,n=(await e.query("SELECT * FROM users WHERE userID = $id",{id:i}))[0].result[0];return n?t.json({type:4,data:{embeds:[{title:n.tag,color:5793266,url:`https://dscrdly.com/u/${n.userID}`,thumbnail:{url:n.avatarURL},fields:[{name:"Bio",value:n.bio||"<Not Disclosed>",inline:!0},{name:"Recent Voted Bots",value:n.votes.length>0?n.votes.map((e=>`<@!${e.bot}> at <t:${Math.round(new Date(e.at).getTime()/1e3)}>`)).join(", "):"<None>",inline:!0},{name:"R$ Balance",value:`R$ ${n.bal}`,inline:!0},{name:"Account Type",value:n.old?"This user is requested to login again to move to V2":"V2",inline:!0},{name:"Last Seen",value:`<t:${Math.round(new Date(n.lastLogin).getTime()/1e3)}:R>`}]}]}}):t.json({type:4,data:{content:"User not found"}})}}