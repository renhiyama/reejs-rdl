import{model as t,Schema as e}from"https://esm.sh/mongoose@7.0.3?bundle";const r=new e({_id:{default:()=>new Date,type:Date},id:{type:String,unique:!0,required:!0},username:{type:String,required:!0},avatar:{type:String,required:!0},discriminator:{type:String,required:!0},status:String,owners:[{type:String}],lib:{type:String},short:{type:String,required:!0},desc:{type:String,required:!0},prefix:String,verified:{type:Boolean,default:!1},added:{type:Boolean,default:!1},code:{type:String},webhook:String,support:String,bg:String,github:String,website:String,donate:String,invite:String,servers:{type:Number,default:1},promoted:{type:Boolean,default:!1},votes:{type:Number,default:0},badges:[{type:String}],slug:{type:String,default:function(){return this.id},unique:!0},opted_coins:{type:Boolean,default:!1}},{versionKey:!1,toJSON:{virtuals:!0},toObject:{virtuals:!0}});r.virtual("avatarURL").get((function(){if("1"==this.avatar||"2"==this.avatar||"3"==this.avatar||"4"==this.avatar)return`https://cdn.discordapp.com/embed/avatars/${this.avatar}.png`;var t=!1;(function(t){let e,r=t[0],i=1;for(;i<t.length;){const a=t[i],n=t[i+1];if(i+=2,("optionalAccess"===a||"optionalCall"===a)&&null==r)return;"access"===a||"optionalAccess"===a?(e=r,r=n(r)):"call"!==a&&"optionalCall"!==a||(r=n(((...t)=>r.call(e,...t))),e=void 0)}return r})([this,"access",t=>t.avatar,"optionalAccess",t=>t.startsWith,"call",t=>t("a_")])&&(t=!0);const e=`https://cdn.discordapp.com/avatars/${this.id}/${this.avatar}.gif`,r=`https://cdn.discordapp.com/avatars/${this.id}/${this.avatar}.png`;return t?e:r})),r.virtual("tag").get((function(){return`${this.username}#${this.discriminator}`})),r.virtual("vanity").get((function(){return`https://dscrdly.com/b/${this.slug}`})),r.virtual("mainowner").get((function(){return`${this.owners[0]}`})),r.virtual("timestamp").get((function(){return""+~~(this._id/1e3)})),console.log("%c[DB] %cCompiling Schema into Model - %cBots","color: #eb4590","","color: #57f287");export default t("Bots",r);